<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Web cu Galerie</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Site Web Exemplu</h1>
        <nav>
            <ul>
                <li><a href="#despre">Despre</a></li>
                <li><a href="#galerie">Galerie</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="weather-apps" class="weather-container">

    <h2>Open-Meteo Weather Applications</h2>

    <!-- Current Weather -->
    <div class="weather-app-box">
        <h3>Current Weather</h3>
        <div class="input-group">
            <input type="text" id="city-current" placeholder="City name (e.g., Bucharest, London)" value="Bucharest">
            <button onclick="getCurrentWeather()">Get Weather</button>
        </div>
        <div id="current-weather-result" class="result-box"></div>
    </div>

    <!-- 7-Day Forecast -->
    <div class="weather-app-box">
        <h3>7-Day Forecast</h3>
        <div class="input-group">
            <input type="text" id="city-forecast" placeholder="City name (e.g., Bucharest, London)" value="Bucharest">
            <button onclick="getWeekForecast()">Get Forecast</button>
        </div>
        <div id="forecast-result" class="result-box"></div>
    </div>

    <!-- Hourly Temperature -->
    <div class="weather-app-box">
        <h3>Hourly Temperature (Next 24h)</h3>
        <div class="input-group">
            <input type="text" id="city-hourly" placeholder="City name (e.g., Suceava, London)" value="Suceava">
            <button onclick="getHourlyTemperature()">Get Hourly Data</button>
        </div>
        <div id="hourly-result" class="result-box"></div>
    </div>

    <!-- Air Quality -->
    <div class="weather-app-box">
        <h3>Air Quality Index</h3>
        <div class="input-group">
            <input type="text" id="city-air" placeholder="City name (e.g.,Suceava, London)" value="Suceava">
            <button onclick="getAirQuality()">Check Air Quality</button>
        </div>
        <div id="air-quality-result" class="result-box"></div>
    </div>

</section>

        <section id="despre">
            <h2>Despre Noi</h2>
            <p>Aici este o descriere scurtÄƒ despre site-ul nostru. PoÈ›i adÄƒuga mai multe detalii Ã®n aceastÄƒ secÈ›iune.</p>
        </section>

        <!-- SecÈ›iunea Galerie -->
        <section id="galerie">
            <h2>Galerie</h2>
            <div class="grid">
                <img src="https://picsum.photos/id/1015/600/400" alt="Imagine 1">
                <img src="https://usv.ro/wp-content/uploads/2019/12/c4_01.jpg" alt="Imagine 2">
                <img src="https://picsum.photos/id/1025/600/400" alt="Imagine 3">
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Site Web Exemplu. Toate drepturile rezervate.</p>
    </footer>
    <script>async function getCoordinates(Suceava){const response= await fetch('https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(Suceava)}&count=1&language=en&format=json');
  const weatherCodes = {
     "â˜€ï¸ Clear sky",
    "ğŸŒ¤ï¸ Mainly clear",
     "â›… Partly cloudy",
     "â˜ï¸ Overcast",

     "ğŸŒ«ï¸ Foggy",
     "â„ï¸ğŸŒ«ï¸ Depositing rime fog",

     "ğŸŒ§ï¸ Light drizzle",
     "ğŸŒ§ï¸ Moderate drizzle",
     "ğŸŒ§ï¸ Heavy drizzle",

     "ğŸŒ¦ï¸ Slight rain",
     "ğŸŒ§ï¸ Moderate rain",
     "ğŸŒ§ï¸ Heavy rain",

     "ğŸŒ¨ï¸ Slight snow",
     "ğŸŒ¨ï¸ Moderate snow",
     "â„ï¸ Heavy snow",
 "â„ï¸ Snow grains",

     "ğŸŒ¦ï¸ Slight rain showers",
     "ğŸŒ§ï¸ Moderate rain showers",
     "â›ˆï¸ Violent rain showers",

     "ğŸŒ¨ï¸ Slight snow showers",
     "â„ï¸ğŸŒ¨ï¸ Heavy snow showers",

     "â›ˆï¸ Thunderstorm",
    "â›ˆï¸ğŸŒ§ï¸ Thunderstorm with slight hail",
"â›ˆï¸â„ï¸ Thunderstorm with heavy hail"
};async function getCurrentWeather() {
    // 1. GÄƒseÈ™te elementele din DOM
    const cityName = document.getElementById('city-current').value;
    const resultDiv = document.getElementById('current-weather-result');

    // 2. AratÄƒ mesaj de Ã®ncÄƒrcare
    resultDiv.innerHTML = '<p class="loading">Loading...</p>';

    try {
        // 3. Preluare coordonate
        const location = await getCoordinates(cityName);

        // 4. Preluare date meteo
        const response = await fetch(
            `https://api.open-meteo.com/v1/forecast?latitude=${location.lat}&longitude=${location.lon}&current_weather=true&timezone=auto`
        );

        const data = await response.json();
        const weather = data.current_weather;

        // 5. ConstruieÈ™te HTML-ul È™i injecteazÄƒ-l
        resultDiv.innerHTML = `
            <div class="weather-data">
                <p><strong>Location:</strong> ${location.name}, ${location.country}</p>
                <p><strong>Temperature:</strong> ${weather.temperature}Â°C</p>
                <p><strong>Wind Speed:</strong> ${weather.windspeed} km/h</p>
                <p><strong>Wind Direction:</strong> ${weather.winddirection}Â°</p>
                <p><strong>Condition:</strong> ${weatherCodes[weather.weathercode] || 'Unknown'}</p>
                <p><strong>Time:</strong> ${weather.time}</p>
            </div>
        `;
    } catch (error) {
        // 6. Gestionare erori
        resultDiv.innerHTML = `<p class="error">âŒ Error: ${error.message}</p>`;
    }
}async function getWeekForecast() {
    const cityName = document.getElementById('city-forecast').value;
    const resultDiv = document.getElementById('forecast-result');

    resultDiv.innerHTML = '<p class="loading">Loading...</p>';

    try {
        const location = await getCoordinates(cityName);

        const response = await fetch(
            `https://api.open-meteo.com/v1/forecast?latitude=${location.lat}&longitude=${location.lon}&daily=temperature_2m_max,temperature_2m_min,precipitation_sum,weathercode&timezone=auto`
        );

        const data = await response.json();

        let forecastHTML = `
            <p style="text-align:center;margin-bottom:1rem;">
                <strong>${location.name}, ${location.country}</strong>
            </p>
            <div class="forecast-grid">
        `;

        for (let i = 0; i < 7; i++) {
            const date = new Date(data.daily.time[i]);
            const dayName = date.toLocaleDateString("en-US", { weekday: "short" });

            forecastHTML += `
                <div class="forecast-day">
                    <p><strong>${dayName}</strong></p>
                    <p>${date.toLocaleDateString()}</p>
                    <p>ğŸŒ¡ï¸ ${data.daily.temperature_2m_max[i]}Â°C / ${data.daily.temperature_2m_min[i]}Â°C</p>
                    <p>ğŸŒ§ï¸ ${data.daily.precipitation_sum[i]} mm</p>
                    <p>${weatherCodes[data.daily.weathercode[i]] || "Unknown"}</p>
                </div>
            `;
        }

        forecastHTML += `</div>`;
        resultDiv.innerHTML = forecastHTML;

    } catch (error) {
        resultDiv.innerHTML = `<p class="error">âŒ Error: ${error.message}</p>`;
    }
}
async function getHourlyTemperature() {
    const cityName = document.getElementById('city-hourly').value;
    const resultDiv = document.getElementById('hourly-result');

    resultDiv.innerHTML = '<p class="loading">Loading...</p>';

    try {
        const location = await getCoordinates(cityName);

        const response = await fetch(
            `https://api.open-meteo.com/v1/forecast?latitude=${location.lat}&longitude=${location.lon}&hourly=temperature_2m,relative_humidity_2m,precipitation&timezone=auto&forecast_days=1`
        );

        const data = await response.json();

        let hourlyHTML = `
            <p style="text-align:center;margin-bottom:1rem;">
                <strong>${location.name}, ${location.country}</strong>
            </p>
            <div class="hourly-grid">
        `;

        for (let i = 0; i < 24; i++) {
            const time = new Date(data.hourly.time[i]);
            const hour = time.getHours().toString().padStart(2, "0");

            hourlyHTML += `
                <div class="hourly-item">
                    <p><strong>${hour}:00</strong></p>
                    <p>ğŸŒ¡ï¸ ${data.hourly.temperature_2m[i]}Â°C</p>
                    <p>ğŸ’§ ${data.hourly.relative_humidity_2m[i]}%</p>
                    <p>ğŸŒ§ï¸ ${data.hourly.precipitation[i]} mm</p>
                </div>
            `;
        }

        hourlyHTML += `</div>`;
        resultDiv.innerHTML = hourlyHTML;

    } catch (error) {
        resultDiv.innerHTML = `<p class="error">âŒ Error: ${error.message}</p>`;
    }
}
async function getAirQuality() {
    const cityName = document.getElementById('city-air').value;
    const resultDiv = document.getElementById('air-quality-result');

    resultDiv.innerHTML = '<p class="loading">Loading...</p>';

    try {
        const location = await getCoordinates(cityName);

        const response = await fetch(
            `https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${location.lat}&longitude=${location.lon}&current=pm10,pm2_5,carbon_monoxide,nitrogen_dioxide,sulphur_dioxide,ozone,european_aqi&timezone=auto`
        );

        const data = await response.json();
        const current = data.current;

        const aqiLevels = {
            1: "ğŸŸ¢ Good",
            2: "ğŸŸ¡ Fair",
            3: "ğŸŸ  Moderate",
            4: "ğŸ”´ Poor",
            5: "ğŸŸ£ Very Poor"
        };

        resultDiv.innerHTML = `
            <div class="weather-data">
                <p><strong>Location:</strong> ${location.name}, ${location.country}</p>
                <p><strong>European AQI:</strong> ${aqiLevels[current.european_aqi] || current.european_aqi}</p>
                <p><strong>PM10:</strong> ${current.pm10} Âµg/mÂ³</p>
                <p><strong>PM2.5:</strong> ${current.pm2_5} Âµg/mÂ³</p>
                <p><strong>CO:</strong> ${current.carbon_monoxide} Âµg/mÂ³</p>
                <p><strong>NOâ‚‚:</strong> ${current.nitrogen_dioxide} Âµg/mÂ³</p>
                <p><strong>SOâ‚‚:</strong> ${current.sulphur_dioxide} Âµg/mÂ³</p>
                <p><strong>Oâ‚ƒ:</strong> ${current.ozone} Âµg/mÂ³</p>
            </div>
        `;

    } catch (error) {
        resultDiv.innerHTML = `<p class="error">âŒ Error: ${error.message}</p>`;
    }
}



  const data=await response.json();
    if(!data.result || data.results.length=== 0){throw new Error('City not found. Please check the spelling')}
    return{
        lat: data.results[0].latitude,
        lon: data.results[0].longitude
        name: data.results[0].name,
        country:data.results[0].country,
        admin1:data.results[0].admin1
    }    </script>
</body>
</html>
