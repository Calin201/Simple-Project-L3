<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple Weather Page</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

    <section id="weather">
      <h2>Weather in Your Location</h2>
      <p id="location">Detecting your location...</p>
      <p id="temperature"></p>
      <p id="wind"></p>
      <p id="weather-icon"></p>
    </section>
  </main>

  <script>
    function getWeather(lat, lon) {
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;
      fetch(url)
        .then(response => response.json())
        .then(data => {
          const current = data.current_weather;
          document.getElementById('location').textContent =
            `Latitude: ${lat.toFixed(2)}, Longitude: ${lon.toFixed(2)}`;
          document.getElementById('temperature').textContent =
            `Temperature: ${current.temperature} Â°C`;
          document.getElementById('wind').textContent =
            `Wind Speed: ${current.windspeed} m/s`;
          const icon = mapWeatherCodeToIcon(current.weathercode);
          document.getElementById('weather-icon').textContent = icon;
        })
        .catch(error => {
          document.getElementById('location').textContent = "Unable to fetch weather";
          console.error(error);
        });
    }

    function mapWeatherCodeToIcon(code) {
      const icons = {
        0: 'â˜€ï¸', 1: 'ðŸŒ¤ï¸', 2: 'â›…', 3: 'â˜ï¸',
        45: 'ðŸŒ«ï¸', 48: 'ðŸŒ«ï¸', 51: 'ðŸŒ¦ï¸', 53: 'ðŸŒ¦ï¸', 55: 'ðŸŒ¦ï¸',
        56: 'ðŸŒ§ï¸', 57: 'ðŸŒ§ï¸', 61: 'ðŸŒ§ï¸', 63: 'ðŸŒ§ï¸', 65: 'ðŸŒ§ï¸',
        66: 'ðŸŒ¨ï¸', 67: 'ðŸŒ¨ï¸', 71: 'â„ï¸', 73: 'â„ï¸', 75: 'â„ï¸',
        77: 'ðŸŒ¨ï¸', 80: 'ðŸŒ¦ï¸', 81: 'ðŸŒ§ï¸', 82: 'ðŸŒ§ï¸', 85: 'â„ï¸',
        86: 'â„ï¸', 95: 'â›ˆï¸', 96: 'â›ˆï¸', 99: 'â›ˆï¸'
      };
      return icons[code] || 'ðŸŒˆ';
    }

    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        position => {
          getWeather(position.coords.latitude, position.coords.longitude);
        },
        error => {
          document.getElementById('location').textContent = "Unable to detect location";
        }
      );
    } else {
      document.getElementById('location').textContent = "Geolocation not supported by your browser";
    }
  </script>
</body>
</html>
